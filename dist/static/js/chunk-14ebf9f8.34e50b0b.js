(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14ebf9f8"],{"1ad8":function(t,e,a){"use strict";var n=a("f028"),i=a.n(n);i.a},"1be1":function(t,e,a){"use strict";var n=a("d695"),i=a.n(n);i.a},"4eee":function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return u}));var n=a("b775");function i(t){return Object(n["a"])({url:"/ci/getLastSonarBugInfo",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/ci/getScanRecordByPage",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/ci/getProjectListByProjectName",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/ci/getLatelyRecordByProjectId",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/ci/getSummarizingReportByPage",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/ci/againAnalyze",method:"get",params:t})}},7156:function(t,e,a){var n=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var r,o;return i&&"function"==typeof(r=e.constructor)&&r!==a&&n(o=r.prototype)&&o!==a.prototype&&i(t,o),t}},"9d4c":function(t,e,a){},a9e3:function(t,e,a){"use strict";var n=a("83ab"),i=a("da84"),r=a("94ca"),o=a("6eeb"),c=a("5135"),s=a("c6b6"),u=a("7156"),l=a("c04e"),p=a("d039"),d=a("7c73"),f=a("241c").f,g=a("06cf").f,m=a("9bf2").f,h=a("58a8").trim,b="Number",v=i[b],y=v.prototype,j=s(d(y))==b,N=function(t){var e,a,n,i,r,o,c,s,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(r=u.slice(2),o=r.length,c=0;c<o;c++)if(s=r.charCodeAt(c),s<48||s>i)return NaN;return parseInt(r,n)}return+u};if(r(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,L=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof L&&(j?p((function(){y.valueOf.call(a)})):s(a)!=b)?u(new v(N(e)),a,L):N(e)},I=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;I.length>S;S++)c(v,_=I[S])&&!c(L,_)&&m(L,_,g(v,_));L.prototype=y,y.constructor=L,o(i,b,L)}},baaf:function(t,e,a){"use strict";var n=a("9d4c"),i=a.n(n);i.a},c5ef:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-input",{attrs:{placeholder:"输入项目名，支持模糊查询",size:"smell",width:"100%"},on:{change:function(e){return t.getProjectListByProjectName()}},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}}),a("projectList",{attrs:{projectList:t.projectList},on:{getLatelyRecordByProjectId:t.getLatelyRecordByProjectId}})],1),a("el-main",{attrs:{width:"100%"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.changeTag},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部",name:"all"}},[a("scanInfoList",{attrs:{tableList:t.tableList},on:{getSumReport:t.getSumReport,againAnalyze:t.againAnalyze}})],1),a("el-tab-pane",{attrs:{label:"扫描中",name:"scan"}},[a("scanInfoList",{attrs:{tableList:t.tableList},on:{getSumReport:t.getSumReport,againAnalyze:t.againAnalyze}})],1),a("el-tab-pane",{attrs:{label:"扫描成功",name:"success"}},[a("scanInfoList",{attrs:{tableList:t.tableList},on:{getSumReport:t.getSumReport,againAnalyze:t.againAnalyze}})],1),a("el-tab-pane",{attrs:{label:"扫描失败",name:"failure"}},[a("scanInfoList",{attrs:{tableList:t.tableList}}),a("scanInfoList",{attrs:{tableList:t.tableList},on:{getSumReport:t.getSumReport,againAnalyze:t.againAnalyze}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total > pageSize"}],attrs:{total:t.total,page:t.pageNum,limit:t.pageSize},on:{"update:page":function(e){t.pageNum=e},"update:limit":function(e){t.pageSize=e},pagination:t.getTableList}})],1)],1)],1)},i=[],r=a("4eee"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},t._l(t.tableList,(function(e,n){return a("div",{key:n,staticClass:"card",attrs:{width:"90%"}},[a("div",{staticClass:"top"},[a("div",{staticClass:"projectInfo"},[a("p",{staticClass:"project"},[t._v("项目名称："+t._s(e.projectName))]),a("p",{staticClass:"branch"},[t._v("分支名称："+t._s(e.sourceBranch))]),a("p",{staticClass:"gitUrl"},[t._v(t._s(e.gitHttpUrl))])]),t._m(0,!0)]),a("div",{staticClass:"taskInfo"},[a("span",[t._v("发起人："+t._s(e.initiator))]),a("span",[t._v("工程版本："+t._s(e.version))]),a("span",[t._v("创建时间："+t._s(e.createTime))]),a("span",[t._v("触发场景："+t._s(0===e.type?"手动触发":"自动触发"))])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.getSumReport(e.projectId)}}},[t._v("查看汇总报告")]),a("el-button",{attrs:{type:"info",size:"mini"}},[t._v("查看报告")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.againAnalyze(e.projectId,e.sourceBranch)}}},[t._v("重新分析")])],1)])})),0)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("span",[t._v("CodeReview")]),a("span",[t._v("规范检查")]),a("span",[t._v("静态扫描")]),a("span",[t._v("单元测试")]),a("span",[t._v("API测试")])])}],s={name:"scanInfoList",props:{tableList:{type:Array,default:function(){return[]}}},methods:{getSumReport:function(t){this.$emit("getSumReport",t,1)},againAnalyze:function(t,e){this.$emit("againAnalyze",t,e)}}},u=s,l=(a("baaf"),a("2877")),p=Object(l["a"])(u,o,c,!1,null,"4b56caf4",null),d=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},t._l(t.projectList,(function(e,n){return a("el-submenu",{key:n,attrs:{index:n+""}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v(t._s(e.group_name))])]),t._l(e.children,(function(e,n){return a("el-menu-item",{key:n,attrs:{index:n+""},on:{click:function(a){return t.getLatelyRecordByProjectId(e.projectId)}}},[t._v(" "+t._s(e.projectName)+" ")])}))],2)})),1)},g=[],m={name:"projectList",props:{projectList:{type:Array,default:function(){return[]}}},methods:{getLatelyRecordByProjectId:function(t){this.$emit("getLatelyRecordByProjectId",t)}}},h=m,b=(a("cab2"),Object(l["a"])(h,f,g,!1,null,null,null)),v=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},j=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var N=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function _(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function L(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function I(t,e,a){var n=L(),i=t-n,r=20,o=0;e="undefined"===typeof e?500:e;var c=function t(){o+=r;var c=Math.easeInOutQuad(o,n,i,e);_(c),o<e?N(t):a&&"function"===typeof a&&a()};c()}var S={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&I(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&I(0,800)}}},z=S,A=(a("1ad8"),Object(l["a"])(z,y,j,!1,null,"600efcd8",null)),R=A.exports,C={name:"githookNoticeList",components:{scanInfoList:d,projectList:v,Pagination:R},data:function(){return{tableList:[],activeName:"all",projectList:[],projectName:"",total:0,pageSize:10,pageNum:1,isSumReport:!1,projectId:""}},created:function(){this.changeTag()},methods:{changeTag:function(t,e){var a="all"===this.activeName?null:this.activeName;this.getCiSum(a,1)},getTableList:function(){if(isSumReport)Object(r["e"])(this.projectId,this.pageNum);else{var t="all"===this.activeName?null:this.activeName;this.getCiSum(t,1)}},getSumReport:function(t,e){var a=this;this.projectId=t,this.pageNum=e;var n={projectId:t,pageNum:this.pageNum,pageSize:this.pageSize};Object(r["e"])(n).then((function(t){t.success&&(a.tableList=t.data.records,a.total=t.data.total)}))},getCiSum:function(t,e){var a=this,n={state:"all"===this.activeName?null:this.activeName,pageNum:e,pageSize:this.pageSize};Object(r["d"])(n).then((function(t){a.tableList=t.data.records,a.total=t.data.total}))},getProjectListByProjectName:function(){var t=this;Object(r["c"])({projectName:this.projectName}).then((function(e){e.success&&(t.projectList=e.data)}))},getLatelyRecordByProjectId:function(t){var e=this;Object(r["b"])({projectId:t}).then((function(t){t.success&&(e.tableList=t.data,e.total=1)}))},againAnalyze:function(t,e){var a={projectId:t,sourceBranch:e};Object(r["a"])(a).then({})}}},P=C,w=(a("1be1"),Object(l["a"])(P,n,i,!1,null,"19b9b340",null));e["default"]=w.exports},cab2:function(t,e,a){"use strict";var n=a("d382"),i=a.n(n);i.a},d382:function(t,e,a){},d695:function(t,e,a){},f028:function(t,e,a){}}]);